(this.webpackJsonptakeoff_test=this.webpackJsonptakeoff_test||[]).push([[6],{131:function(e,t,n){e.exports=n.p+"static/media/app_image.c25636b9.png"},152:function(e,t,n){"use strict";n.r(t);var a=n(122),r=n(51),c=n(0),i=n.n(c),o=n(100),s=n(119),u=n(151),l=n(26),p=function(e){var t=e.draft,n=e.action,a=e.initialState,r=e.actionList;switch(n.type){case r.FETCH.CALL:t.isProgress=!0,t.errors={},t.item=a.item;break;case r.FETCH.SUCCESS:t.isProgress=!1,t.errors={},t.item=n.data;break;case r.FETCH.FAIL:t.isProgress=!1,t.errors=n.errors}},d=function(e,t){return Object(r.a)({},e,{CALL:"app/".concat(t,"/").concat(e),SUCCESS:"app/".concat(t,"/").concat(e,"_SUCCESS"),FAIL:"app/".concat(t,"/").concat(e,"_FAIL")})},m=Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},function(e){return{FETCH:{CALL:"app/".concat(e,"/FETCH"),SUCCESS:"app/".concat(e,"/FETCH_SUCCESS"),FAIL:"app/".concat(e,"/FETCH_FAIL")}}}("LoginPageContainer")),d(["AUTH"],"LoginPageContainer")),d(["SELECT_PLATE"],"LoginPageContainer")),d(["LOGIN"],"LoginPageContainer")),b=n(108),f=n(109),g=n(111),j=n(110),h=n(123),S=n(19),C=n.n(S),O=n(27),E=n(112),v=n.n(E),L=n(113);function k(e){var t={dispatch:L.isFunction,subscribe:L.isFunction,getState:L.isFunction,replaceReducer:L.isFunction,runSaga:L.isFunction,injectedReducers:L.isObject,injectedSagas:L.isObject};v()(Object(L.conformsTo)(e,t),"(app/utils...) injectors: Expected a valid redux store")}var y="@@saga-injector/daemon",x=["@@saga-injector/restart-on-remount",y,"@@saga-injector/once-till-unmount"],A=function(e){return v()(Object(L.isString)("key")&&!Object(L.isEmpty)(e),"(app/utils...) injectSaga: Expected `key` to be a non empty string")},T=function(e){var t={saga:L.isFunction,mode:function(e){return Object(L.isString)(e)&&x.includes(e)}};v()(Object(L.conformsTo)(e,t),"(app/utils...) injectSaga: Expected `key` to be a non empty string")};function w(e,t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;t||k(e);var c=Object(l.a)(Object(l.a)({},a),{},{mode:a.mode||y}),i=c.saga,o=c.mode;A(n),T(c);var s=Reflect.has(e.injectedSagas,n);(!s||s&&o!==y&&"@@saga-injector/once-till-unmount"!==o)&&(e.injectedSagas[n]=Object(l.a)(Object(l.a)({},c),{},{task:e.runSaga(i,r)}))}}function N(e,t){return function(n){if(t||k(e),A(n),Reflect.has(e.injectedSagas,n)){var a=e.injectedSagas[n];a.mode&&a.mode!==y&&(a.task.cancel(),e.injectedSagas[n]="done")}}}function F(e){return k(e),{injectSaga:w(e,!0),ejectSaga:N(e,!0)}}var q=n(58);function P(e,t){return function(n,a){t||k(e),v()(Object(L.isString)(n)&&!Object(L.isEmpty)(n)&&Object(L.isFunction)(a),"(app/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,n)&&e.injectedReducers[n]===a||(e.injectedReducers[n]=a,e.replaceReducer(Object(q.a)(e.injectedReducers)))}}function R(e){return k(e),{injectReducer:P(e,!0)}}var H=n(153),U=n(15),I=n(129),_=n.n(I);function W(e,t){return new Promise((function(n,a){fetch(e,t).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(){return a(new Error("Network Error"))}))}))}function G(e,t){return{type:m.AUTH.SUCCESS,res:e,user:t}}function z(){return{type:m.LOGIN.CALL}}var J=_.a.mark(K),B=_.a.mark(M),D=_.a.mark(Q);function K(e){var t,n,a;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t="http://".concat("194.67.110.56:5000","/api/auth/step_1"),n={method:"post",mode:"cors",body:JSON.stringify({user:e.user})},r.prev=2,r.next=5,Object(h.a)(W,t,n);case 5:if(!(a=r.sent).squares){r.next=9;break}return r.next=9,Object(h.b)(G(a,e.user));case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(2),console.log(r.t0);case 14:case"end":return r.stop()}}),J,null,[[2,11]])}function M(e){var t,n,a;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t="http://".concat("194.67.110.56:5000","/api/auth/step_2"),n={method:"post",mode:"cors",body:JSON.stringify({user:e.user,squares:e.plate})},r.prev=2,r.next=5,Object(h.a)(W,t,n);case 5:return a=r.sent,console.log(a),r.next=9,Object(h.b)(z());case 9:r.next=16;break;case 11:return r.prev=11,r.t0=r.catch(2),r.next=15,Object(h.b)(z());case 15:console.log(r.t0);case 16:case"end":return r.stop()}}),B,null,[[2,11]])}function Q(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)(m.AUTH.CALL,K);case 2:return e.next=4,Object(h.c)(m.SELECT_PLATE.SUCCESS,M);case 4:case"end":return e.stop()}}),D)}var V=n(131),X=n.n(V),Y=n(132),Z=Object.assign({},Object(l.a)(Object(l.a)({},{isProgress:!1,list:{total:0,page:0,count:0,data:[]},errors:{},item:{id:""}}),{},{user:"",squares:[],selectedSquare:[],isAuth:!1})),$=function(e,t){var n=e.selectedSquare.indexOf(t);return-1===n?e.selectedSquare.concat([t]):e.selectedSquare.splice(n,1)},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;return Object(Y.a)(e,(function(n){switch(t.type){case m.AUTH.SUCCESS:n.squares=t.res.squares,n.user=t.user;break;case m.SELECT_PLATE.CALL:n.selectedSquare=$(n,t.plate);break;case m.LOGIN.CALL:n.isAuth=!0;break;case m.LOGIN.FAIL:n.isAuth=!1,n.squares=[];break;default:p({draft:n,state:e,action:t,initialState:Z,actionList:m})}}))},te=Object(o.a)({plate:{background:function(e){var t=e.color;return"".concat(t)},width:150,height:150,opacity:function(e){return e.isSelect?1:.5}},number:{color:"white",fontSize:30,textAlign:"center"}}),ne=function(e){var t=Object(c.useState)(),n=Object(a.a)(t,2),r=n[0],o=n[1],u=te({color:e.color,isSelect:r});return i.a.createElement(s.a,{container:!0,direction:"column",justify:"center",className:u.plate,onClick:function(){e.onSelectPlate(e.square),o(!r)}},i.a.createElement(s.a,{item:!0,className:u.number},e.number))},ae=n(34),re=Object(o.a)({container:{maxWidth:450,margin:"auto",height:"100vh"},block:{width:"100%",height:450,background:"#f9f9f9",position:"relative",borderRadius:15},button:{width:160,height:50,marginTop:41,background:"#7FA6E1",borderRadius:15,color:"white",fontSize:15,lineHeight:"32px",padding:"5px 30px"}}),ce=Object(ae.g)((function(e){var t=re();return i.a.createElement(s.a,{container:!0,direction:"column",justify:"center",className:t.container},i.a.createElement(s.a,{className:t.block,container:!0},e.squares.map((function(t){return i.a.createElement(ne,{square:t,onSelectPlate:e.onSelectPlate,key:"".concat(t[0]).concat(t[1]),color:t[0],number:t[1]})}))),i.a.createElement(H.a,{className:t.button,onClick:e.onClick},"\u0414\u0430\u043b\u0435\u0435"))})),ie=n(121),oe=function(e){return e.LoginPageContainer||Z},se=n(55),ue=Object(o.a)(Object(r.a)({container:{maxWidth:1080,margin:"auto",height:"100vh"},block:{width:"100%",height:"638px",background:"#f9f9f9",position:"relative",borderRadius:15},inputContainer:{padding:80},inputContainerText:{fontWeight:"normal",fontSize:"48px",lineHeight:"50px",textAlign:"center",color:"#000000",marginBottom:50},input:{width:"100%"},button:{width:160,height:50,marginTop:41,background:"#7FA6E1",borderRadius:15,color:"white",fontSize:15,lineHeight:"32px",padding:"5px 30px"},image:{display:"none"}},"@media (min-width: 1280px)",{image:{position:"absolute",bottom:10,right:10,border:"10px solid #7FA6E1",borderRadius:15,borderBottom:10,borderRight:10,display:"block"}})),le=Object(ie.b)({squares:Object(ie.a)(oe,(function(e){return e.squares})),selectedSquares:Object(ie.a)(oe,(function(e){return e.selectedSquare})),user:Object(ie.a)(oe,(function(e){return e.user})),isAuth:Object(ie.a)(oe,(function(e){return e.isAuth}))}),pe=Object(O.c)(le,(function(e){return{dispatch:e}})),de=function(e){var t=e.key,n=e.saga,a=e.mode;return function(e){var r=function(r){Object(g.a)(o,r);var c=Object(j.a)(o);function o(e,r){var i;return Object(b.a)(this,o),(i=c.call(this,e,r)).injectors=F(r.store),i.injectors.injectSaga(t,{saga:n,mode:a},i.props),i}return Object(f.a)(o,[{key:"componentWillUnmount",value:function(){this.injectors.ejectSaga(t)}},{key:"render",value:function(){return i.a.createElement(e,this.props)}}]),o}(c.Component);return r.WrappedComponent=e,r.contextType=O.b,r.displayNode="withSaga(".concat(e.displayName||e.name||"Component",")"),C()(r,e)}}({key:"LoginPageContainer",saga:Q}),me=function(e){var t=e.key,n=e.reducer;return function(e){var a=function(a){Object(g.a)(c,a);var r=Object(j.a)(c);function c(e,a){var i;return Object(b.a)(this,c),i=r.call(this,e,a),R(a.store).injectReducer(t,n),i}return Object(f.a)(c,[{key:"render",value:function(){return i.a.createElement(e,this.props)}}]),c}(i.a.Component);return a.WrappedComponent=e,a.contextType=O.b,a.displayName="withReducer(".concat(e.displayName||e.name||"Component",")"),C()(a,e)}}({key:"LoginPageContainer",reducer:ee});t.default=Object(U.d)(ae.g,pe,de,me)((function(e){var t=ue(),n=Object(c.useState)(""),r=Object(a.a)(n,2),o=r[0],l=r[1];return e.isAuth?i.a.createElement(se.a,{onClick:function(){e.dispatch({type:m.LOGIN.FAIL})}}):0!==e.squares.length?i.a.createElement(ce,{onClick:function(){var t,n;e.dispatch((t=e.user,n=e.selectedSquares,{type:m.SELECT_PLATE.SUCCESS,user:t,plate:n}))},squares:e.squares,onSelectPlate:function(t){e.dispatch(function(e){return{type:m.SELECT_PLATE.CALL,plate:e}}(t))}}):i.a.createElement(s.a,{container:!0,direction:"column",justify:"center",className:t.container},i.a.createElement(s.a,{className:t.block,container:!0},i.a.createElement(s.a,{lg:6,md:12,item:!0,container:!0,direction:"column",justify:"center",alignItems:"center",className:t.inputContainer},i.a.createElement(s.a,{className:t.inputContainerText},"\u0412\u0445\u043e\u0434 \u0432 \u0412\u0422\u0411-\u041e\u043d\u043b\u0430\u0439\u043d"),i.a.createElement(u.a,{variant:"outlined",className:t.input,name:"user",onChange:function(e){l(e.target.value)},label:"\u041d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b \u0438 \u043b\u043e\u0433\u0438\u043d",value:o}),i.a.createElement(H.a,{onClick:function(){var t;e.dispatch((t=o,{type:m.AUTH.CALL,user:t}))},className:t.button},"\u0414\u0430\u043b\u0435\u0435")),i.a.createElement(s.a,{item:!0,lg:6,container:!0,direction:"column",justify:"center",alignItems:"center",className:t.inputContainer},i.a.createElement("img",{src:X.a,className:t.image}))))}))}}]);
//# sourceMappingURL=6.c236c790.chunk.js.map